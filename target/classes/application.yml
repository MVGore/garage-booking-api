server:
  port: ${PORT:8080} # Defaults to 8080 if PORT not set

spring:
  datasource:
    url: jdbc:postgresql://${PGHOST}:${PGPORT}/${POSTGRES_DB}  # Railway Postgres connection
    username: ${POSTGRES_USER}  # Railway Postgres user
    password: ${POSTGRES_PASSWORD}  # Railway Postgres password
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      ddl-auto: update  # Automatically create/update tables based on Entities
    show-sql: true
    properties:
      hibernate:
        format_sql: true
        use_sql_comments: true  # Adds SQL comments for easier debugging

  liquibase:
    change-log: classpath:db/changelog/db.changelog-master.xml

  management:
    endpoints:
      web:
        exposure:
          include: health,info  # Enable health check endpoints

jwt:
  secret: ${JWT_SECRET}  # Your JWT secret from ENV
  expiration: 86400000   # 1 day in milliseconds

logging:
  level:
    root: INFO
    org.springframework: DEBUG
    org.hibernate.SQL: DEBUG
    com.mvgore.garageapi: DEBUG  # Detailed logging for your package
    org.springframework.jdbc.datasource: DEBUG

  file:
    name: logs/application.log  # Log output to file

  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"  # Console log format
